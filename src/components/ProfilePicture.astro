---
import { siteConfig } from '../config';
import crypto from 'crypto';

// Generate Gravatar URL from email using MD5 hash
function getGravatarUrl(email: string, size: number = 200): string {
  const normalizedEmail = email.toLowerCase().trim();
  const hash = crypto.createHash('md5').update(normalizedEmail).digest('hex');
  return `https://www.gravatar.com/avatar/${hash}?s=${size}&d=identicon`;
}

const gravatarUrl = getGravatarUrl(siteConfig.gravatarEmail, 200);
---

<div class="profile-picture">
  <img 
    src={gravatarUrl} 
    alt={`${siteConfig.author} profile picture`}
    width="200"
    height="200"
    loading="eager"
  />
</div>

<style>
  .profile-picture {
    display: flex;
    justify-content: center;
    margin-bottom: 1.5rem;
  }
  
  .profile-picture img {
    border-radius: 50%;
    width: 150px;
    height: 150px;
    object-fit: cover;
    border: 3px solid var(--color-border);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
  }
</style>

